{% extends "registration/registration_base.html" %}

{% load i18n %}
{% load project_title %}
{% load recaptcha_site_key %}

{% block extra_js_init %}

    $("#id_date_of_birth").datepicker(dateOptions);
    setStatesOnLoad("#id_country", "#id_state", "#patient_state_value");
    setUpStateOnCountryChange("#id_country", "#id_state");
    $("#id_country").trigger("change");

{% endblock %}

{% block content %}

    <h3>
        <strong>{% project_title %} - {% trans "Patient Registration" %}</strong>
    </h3>

    <form id="registration-form" method="POST">
        {% csrf_token %}
        <input type="hidden" name="registry_code" value="{{registry_code}}">
        <input id="id_email" name="email" type="hidden" />
        <input type="hidden" id="patient_state_value" value="{{form.state.value}}">
        <div class="row">
            <div class="col-md-6">
                {% include "registration/registration_login_details.html" %}
            </div>
            <div class="col-md-6" >
                <div id="patient-form" class="ui-accordion ui-widget ui-helper-reset" role="tablist">
                    {% include "registration/registration_patient_details.html" %}
                    {% include "registration/registration_patient_address.html" %}
                </div>
            </div>
            <br/>
            <div class="row">
                <div class="col-md-6">
                    <div class="g-recaptcha" data-sitekey="{% recaptcha_site_key %}"  data-callback='reCaptchaCallback' data-expired-callback='reCaptchaExpiredCallback'></div>
                </div>
                <div class="col-md-6">
                    <button type="button" id="registration-submit" class="btn btn-success pull-right">Submit</button>
                </div>
            </div>
    </form>

{% endblock %}
